{"version":3,"file":"component---src-pages-tools-makecode-sim-tsx-2896e0a78ab29747a074.js","mappings":"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","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/Clear.js","webpack://jacdac-docs/./node_modules/@mui/material/Divider/dividerClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/List/listClasses.js","webpack://jacdac-docs/./node_modules/@mui/material/List/List.js","webpack://jacdac-docs/./node_modules/@mui/material/ListItemText/listItemTextClasses.js","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/icons/MakeCodeIcon.tsx","webpack://jacdac-docs/./src/components/makecode/MakeCodeAddBlocksButton.tsx","webpack://jacdac-docs/./src/components/makecode/MakeCodeBlocksAndSimsBox.tsx","webpack://jacdac-docs/./src/jacdac/usePersistentSimulators.ts","webpack://jacdac-docs/./src/pages/tools/makecode-sim.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\nexports.default = _default;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDividerUtilityClass(slot) {\n  return generateUtilityClass('MuiDivider', slot);\n}\nconst dividerClasses = generateUtilityClasses('MuiDivider', ['root', 'absolute', 'fullWidth', 'inset', 'middle', 'flexItem', 'light', 'vertical', 'withChildren', 'withChildrenVertical', 'textAlignRight', 'textAlignLeft', 'wrapper', 'wrapperVertical']);\nexport default dividerClasses;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getListUtilityClass(slot) {\n  return generateUtilityClass('MuiList', slot);\n}\nconst listClasses = generateUtilityClasses('MuiList', ['root', 'padding', 'dense', 'subheader']);\nexport default listClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"dense\", \"disablePadding\", \"subheader\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from './ListContext';\nimport { getListUtilityClass } from './listClasses';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disablePadding,\n    dense,\n    subheader\n  } = ownerState;\n  const slots = {\n    root: ['root', !disablePadding && 'padding', dense && 'dense', subheader && 'subheader']\n  };\n  return composeClasses(slots, getListUtilityClass, classes);\n};\nconst ListRoot = styled('ul', {\n  name: 'MuiList',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disablePadding && styles.padding, ownerState.dense && styles.dense, ownerState.subheader && styles.subheader];\n  }\n})(({\n  ownerState\n}) => _extends({\n  listStyle: 'none',\n  margin: 0,\n  padding: 0,\n  position: 'relative'\n}, !ownerState.disablePadding && {\n  paddingTop: 8,\n  paddingBottom: 8\n}, ownerState.subheader && {\n  paddingTop: 0\n}));\nconst List = /*#__PURE__*/React.forwardRef(function List(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiList'\n  });\n  const {\n      children,\n      className,\n      component = 'ul',\n      dense = false,\n      disablePadding = false,\n      subheader\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const context = React.useMemo(() => ({\n    dense\n  }), [dense]);\n  const ownerState = _extends({}, props, {\n    component,\n    dense,\n    disablePadding\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: context,\n    children: /*#__PURE__*/_jsxs(ListRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className),\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      children: [subheader, children]\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? List.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used for\n   * the list and list items.\n   * The prop is available to descendant components as the `dense` context.\n   * @default false\n   */\n  dense: PropTypes.bool,\n  /**\n   * If `true`, vertical padding is removed from the list.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n  /**\n   * The content of the subheader, normally `ListSubheader`.\n   */\n  subheader: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default List;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getListItemTextUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemText', slot);\n}\nconst listItemTextClasses = generateUtilityClasses('MuiListItemText', ['root', 'multiline', 'dense', 'inset', 'primary', 'secondary']);\nexport default listItemTextClasses;","// tslint:disable-next-line: no-submodule-imports\nimport { Box } from \"@mui/material\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport { NoSsr } from \"@mui/material\"\nimport ConnectButtons from \"../buttons/ConnectButtons\"\nimport useDevices from \"../hooks/useDevices\"\nimport { UIFlags } from \"../../jacdac/providerbus\"\n\nfunction NoSsrConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    const { serviceClass, closeable } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useDevices({ serviceClass, ignoreInfrastructure: true })\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if ((!UIFlags.connect && !transports.length) || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={closeable}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                <Box component=\"span\" ml={2}>\n                    <ConnectButtons full=\"always\" transparent={true} />\n                </Box>\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: {\n    serviceClass?: number\n    closeable?: boolean\n}) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import { SvgIcon, SvgIconProps } from \"@mui/material\"\nimport React from \"react\"\n\nexport default (props: SvgIconProps) => (\n    <SvgIcon titleAccess=\"MakeCode logo\" {...props}>\n        <path\n            d=\"M4.703 2.615s-.505.05-.72.15a3.011 3.011 0 00-.391.221c-.22.12-.42.266-.6.444-.52.516-.795 1.2-.834 2.05a6.857 6.857 0 00-.066.961V8.36a5.117 5.117 0 01-.137 1.032 1.73 1.73 0 01-.4.773 2.006 2.006 0 00-.15.149 6.534 6.534 0 01-.848.617c-.303.196-.481.474-.537.83v.017c-.01.07-.017.14-.018.215L0 12.006v.008c0 .08.003.156.012.226h.002c.024.214.082.378.177.492.129.153.345.328.649.52.304.192.552.398.74.62.19.221.332.549.428.985.037.17.065.54.084 1.106v1.514c0 .285.023.542.056.787.001.047 0 .092.002.14.007.587.135 1.107.385 1.559.25.453.604.803 1.063 1.05.458.248.978.372 1.56.372h14.139c.262 0 .505-.05.72-.15.139-.064.267-.14.391-.221.218-.12.42-.266.6-.444.52-.516.795-1.2.834-2.05.042-.299.066-.618.066-.963v-1.918c.014-.372.059-.715.137-1.03.078-.314.213-.572.4-.775a1.98 1.98 0 00.15-.146c.2-.179.48-.384.848-.618.303-.196.481-.475.537-.832l.002-.015a1.66 1.66 0 00.018-.217V11.988c0-.08-.004-.156-.012-.226h-.002c-.024-.214-.082-.378-.177-.492-.129-.153-.345-.328-.649-.52a3.208 3.208 0 01-.74-.62c-.19-.221-.332-.55-.428-.987-.037-.17-.065-.538-.084-1.104V6.523c0-.285-.023-.542-.056-.787-.001-.047 0-.092-.002-.14-.007-.587-.135-1.107-.385-1.559a2.598 2.598 0 00-1.063-1.05c-.458-.248-.978-.372-1.56-.372H4.703zm1.22 1.24c.307 0 .533.058.673.172.115.096.168.24.168.453a.885.885 0 01-.069.36.501.501 0 01-.142.201.346.346 0 01-.18.07c-.31.042-.543.095-.713.164a1.03 1.03 0 00-.543.536c-.093.201-.149.47-.174.818-.022.301-.033.725-.033 1.293-.012.796-.058 1.422-.137 1.861-.07.398-.206.74-.4 1.02-.197.282-.499.552-.898.804l-.616.39.618.386c.286.18.52.368.695.558.166.18.304.407.414.672.115.277.2.614.248 1.004.051.413.076.908.076 1.47 0 .587.013 1.025.037 1.34.03.367.094.64.196.835.123.236.303.403.537.496.168.067.395.114.693.148a.404.404 0 01.268.16c.081.1.123.259.123.471 0 .308-.064.608-.84.608-.477 0-.898-.094-1.25-.282a2.006 2.006 0 01-.813-.785 2.402 2.402 0 01-.31-1.197c-.048-2.666-.098-3.199-.139-3.37-.115-.472-.286-.83-.525-1.097a3.373 3.373 0 00-.776-.633c-.216-.13-.375-.254-.47-.369-.027-.032-.088-.136-.088-.416 0-.288.09-.471.293-.596.454-.28.781-.522.998-.746.244-.251.415-.565.51-.931.084-.328.132-.788.148-1.407.015-.58.03-1.305.049-2.177.016-.706.229-1.25.654-1.666.426-.416.988-.618 1.719-.618zm12.153 0c.477 0 .898.095 1.25.282.348.185.612.442.813.785.2.343.305.746.31 1.197.048 2.666.098 3.199.139 3.37.115.472.286.83.525 1.097.216.24.476.452.776.633.217.131.376.255.47.369.027.032.088.136.088.416 0 .287-.09.471-.293.596-.454.28-.78.522-.998.746-.243.25-.415.565-.51.931-.084.328-.132.788-.148 1.407-.015.58-.03 1.305-.049 2.177-.016.706-.229 1.25-.654 1.666-.426.416-.988.618-1.719.618-.307 0-.533-.058-.672-.172-.116-.096-.168-.24-.168-.453 0-.135.021-.253.069-.36a.512.512 0 01.14-.201.353.353 0 01.182-.07c.31-.042.543-.095.713-.164.238-.099.424-.284.54-.538.094-.201.152-.468.177-.816.021-.301.033-.727.033-1.295.012-.796.058-1.42.137-1.86.07-.397.204-.74.398-1.019.196-.281.499-.552.898-.804l.616-.39-.616-.386a3.412 3.412 0 01-.695-.558 2.275 2.275 0 01-.416-.672 3.871 3.871 0 01-.246-1.004 12.22 12.22 0 01-.078-1.47c0-.587-.012-1.025-.037-1.34-.03-.367-.092-.64-.194-.835a1.021 1.021 0 00-.539-.496 2.76 2.76 0 00-.691-.148.4.4 0 01-.268-.16c-.082-.1-.123-.259-.123-.471 0-.308.064-.608.84-.608zm-6.29 1.348c.052-.005.341-.005.394 0v.01a1.524 1.524 0 011.287 1.457c0 .62-.332.891-.332.916-.33.346-.123.744.467.695 0 0 2.4.012 2.445 0a.576.576 0 01.422.555l-.002 2.574c-.106.3-.396.36-.658.111-.025 0-.296-.332-.916-.332a1.521 1.521 0 00-1.457 1.286h-.008a4.897 4.897 0 000 .394h.008a1.524 1.524 0 001.457 1.287c.62 0 .89-.332.916-.332.27-.256.557-.225.658.112v2.783a.562.562 0 01-.563.562H8.061a.561.561 0 01-.563-.562V8.836c0-.261.18-.492.422-.555.046.012 2.443 0 2.443 0 .659.032.798-.349.469-.695 0-.025-.332-.296-.332-.916a1.521 1.521 0 011.285-1.457v-.01z\"\n            strokeWidth=\".75\"\n        />\n    </SvgIcon>\n)\n","import Tooltip from \"../ui/Tooltip\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React, { useMemo } from \"react\"\nimport useChange from \"../../jacdac/useChange\"\nimport IFrameBridgeClient from \"./iframebridgeclient\"\nimport MakeCodeIcon from \"../../components/icons/MakeCodeIcon\"\nimport useBus from \"../../jacdac/useBus\"\nimport { translateLang } from \"../translations\"\n\nexport default function MakeCodeAddBlocksButton() {\n    const bus = useBus()\n    const iframeBridge = bus.nodeData[\n        IFrameBridgeClient.DATA_ID\n    ] as IFrameBridgeClient\n    const extensions = useChange(iframeBridge, _ => _?.candidateExtensions())\n    const handleAdd = () => iframeBridge?.postAddExtensions()\n    const isMakeCodeTool = useMemo(\n        () =>\n            typeof window !== \"undefined\" &&\n            /makecode/.test(window.location.href),\n        []\n    )\n    const isButtonEnabled = !!extensions?.length\n\n    if (!isMakeCodeTool) return null\n\n    return (\n        <Tooltip\n            describeChild\n            title={translateLang(isButtonEnabled ? \"blockEnabled\" : \"blockDisabled\")}\n            placement=\"bottom\"\n        >\n            <span>\n                <Button\n                    sx={{ mr: 1 }}\n                    size=\"small\"\n                    color=\"primary\"\n                    variant=\"contained\"\n                    disabled={!isButtonEnabled}\n                    startIcon={<MakeCodeIcon />}\n                    onClick={handleAdd}\n                >\n                    {translateLang(\"blockAdd\")}\n                </Button>\n            </span>\n        </Tooltip>\n    )\n}\n","import { Box } from \"@mui/material\"\nimport React from \"react\"\nimport StartMissingSimulatorsButton from \"../buttons/StartMissingSimulatorsButton\"\nimport MakeCodeAddBlocksButton from \"./MakeCodeAddBlocksButton\"\nimport { translateLang } from \"../translations\"\n\nexport default function MakeCodeBlocksAndSimsBox() {\n\n  return (\n      <Box m={1}>\n        <MakeCodeAddBlocksButton />\n        <StartMissingSimulatorsButton\n        variant=\"contained\"\n        >\n          {translateLang(\"simAdd\")}\n        </StartMissingSimulatorsButton>\n      </Box>\n      )\n}\n","import { useEffect } from \"react\"\nimport {\n    DEVICE_CONNECT,\n    DEVICE_DISCONNECT,\n} from \"../../jacdac-ts/src/jdom/constants\"\nimport {\n    addServiceProvider,\n    serviceProviderDefinitions,\n} from \"../../jacdac-ts/src/servers/servers\"\nimport useLocalStorage from \"../components/hooks/useLocalStorage\"\nimport useBus from \"./useBus\"\n\nconst STORAGE_KEY = \"active_simulators\"\nconst STORAGE_EXPIRATION = 3600_000\n\ninterface Simulators {\n    update?: number\n    templates: string[]\n}\n\nexport function usePersistentSimulators() {\n    const [simulators, setSimulators] = useLocalStorage<Simulators>(\n        STORAGE_KEY,\n        undefined\n    )\n    const bus = useBus()\n    const resolveTemplates = () =>\n        bus\n            .serviceProviders()\n            .map(sp => sp.template)\n            .filter(t => !!t)\n\n    const snapshot = () => {\n        const templates = resolveTemplates()\n        setSimulators({\n            update: Date.now(),\n            templates,\n        })\n    }\n\n    useEffect(() => {\n        if ((simulators?.update || 0) - Date.now() < STORAGE_EXPIRATION) {\n            const serviceProviders = serviceProviderDefinitions()\n            const templates = resolveTemplates()\n            simulators?.templates?.forEach(template => {\n                const i = templates.indexOf(template)\n                if (i > -1) {\n                    templates.splice(i, 1)\n                } else {\n                    const def = serviceProviders.find(\n                        sp => sp.name === template\n                    )\n                    if (def) addServiceProvider(bus, def)\n                }\n            })\n        }\n        snapshot()\n    }, [])\n\n    useEffect(\n        () => bus.subscribe([DEVICE_CONNECT, DEVICE_DISCONNECT], snapshot),\n        [bus]\n    )\n}\n","import React, { useContext, useEffect } from \"react\"\nimport { createTheme, responsiveFontSizes } from \"@mui/material\"\nimport ThemedLayout from \"../../components/ui/ThemedLayout\"\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\"\nimport { isReading, isValueOrIntensity } from \"../../../jacdac-ts/src/jdom/spec\"\nimport { strcmp } from \"../../../jacdac-ts/src/jdom/utils\"\nimport Dashboard from \"../../components/dashboard/Dashboard\"\nimport DarkModeContext from \"../../components/ui/DarkModeContext\"\nimport IFrameBridgeClient from \"../../components/makecode/iframebridgeclient\"\nimport useBus from \"../../jacdac/useBus\"\nimport MakeCodeBlocksAndSimsBox from \"../../components/makecode/MakeCodeBlocksAndSimsBox\"\nimport { usePersistentSimulators } from \"../../jacdac/usePersistentSimulators\"\n\n/**\n * To debug locally:\n *\n * - launch yarn develop\n * - launch pxt serve + ?localhostmessagesims=1\n * - launch jacdac project\n */\n\nfunction deviceSort(l: JDDevice, r: JDDevice): number {\n    const srvScore = (srv: jdspec.ServiceSpec) =>\n        srv.packets.reduce(\n            (prev, pkt) =>\n                prev + (isReading(pkt) ? 10 : isValueOrIntensity(pkt) ? 1 : 0),\n            0\n        ) || 0\n    const score = (srvs: jdspec.ServiceSpec[]) =>\n        srvs.reduce((prev, srv) => srvScore(srv), 0)\n\n    const ls = score(\n        l\n            .services()\n            .slice(1)\n            .map(srv => srv.specification)\n            .filter(spec => !!spec)\n    )\n    const rs = score(\n        r\n            .services()\n            .slice(1)\n            .map(srv => srv.specification)\n            .filter(spec => !!spec)\n    )\n    if (ls !== rs) return -ls + rs\n    return strcmp(l.deviceId, r.deviceId)\n}\n\nfunction Carousel() {\n    const bus = useBus()\n    const iframeBridge = bus.nodeData[\n        IFrameBridgeClient.DATA_ID\n    ] as IFrameBridgeClient\n    const deviceFilter = iframeBridge?.deviceFilter.bind(iframeBridge)\n    const serviceFilter = iframeBridge?.serviceFilter.bind(iframeBridge)\n\n    useEffect(() => {\n        bus.streaming = true\n        bus.broadcastDisconnectRequest()\n    }, [])\n\n    usePersistentSimulators()\n\n    return (\n        <>\n            <MakeCodeBlocksAndSimsBox />\n            <Dashboard\n                showHeader={false}\n                showDeviceHeader={true}\n                showDeviceAvatar={true}\n                deviceSort={deviceSort}\n                deviceFilter={deviceFilter}\n                serviceFilter={serviceFilter}\n                showStartRoleSimulators={false}\n                alwaysVisible={true}\n                variant=\"icon\"\n                controlled={true}\n            />\n        </>\n    )\n}\n\nexport default function Page() {\n    const { toggleDarkMode, darkModeMounted } = useContext(DarkModeContext)\n    const rawTheme = createTheme({\n        palette: {\n            primary: {\n                main: \"#85e\",\n            },\n            secondary: {\n                main: \"#ffc400\",\n            },\n            background: {\n                default: \"#fff\",\n            },\n            mode: \"light\",\n            contrastThreshold: 3.1,\n        },\n    })\n    const theme = responsiveFontSizes(rawTheme)\n\n    useEffect(() => {\n        if (darkModeMounted) toggleDarkMode(\"light\")\n    }, [darkModeMounted])\n\n    return (\n        <ThemedLayout theme={theme}>\n                <style>\n                    {`\nhtml {\n    margin-right: 4px;\n}\nhtml, body {\n    background: transparent !important;\n    overflow: hidden !important;\n}\n`}\n                </style>\n            <Carousel />\n        </ThemedLayout>\n    )\n}\n"],"names":["useContext","devices","useDevices","ignoreInfrastructure","spec","serviceSpecificationFromClassIdentifier","UIFlags","transports","props","bus","useBus","iframeBridge","IFrameBridgeClient","extensions","useChange","_","handleAdd","isMakeCodeTool","useMemo","window","isButtonEnabled","translateLang","mr","STORAGE_KEY","STORAGE_EXPIRATION","useLocalStorage","resolveTemplates","sp","t","snapshot","templates","setSimulators","update","Date","useEffect","serviceProviders","serviceProviderDefinitions","simulators","template","i","def","addServiceProvider","srvScore","srv","prev","isReading","isValueOrIntensity","score","srvs","ls","l","rs","r","strcmp","deviceFilter","serviceFilter","usePersistentSimulators","darkModeMounted","rawTheme","createTheme","palette","primary","main","secondary","background","default","mode","contrastThreshold","theme","responsiveFontSizes","toggleDarkMode"],"sourceRoot":""}